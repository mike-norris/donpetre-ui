import{c as k,j as e,u as C,r as i,B as n,T as t,P as d,L as x,S as h,A as S,p as l}from"./index-DR-c1u_z.js";import{k as B}from"./knowledge-DSTL9voN.js";import{G as o}from"./Grid-CxjzNcN3.js";import{C as m,a as j}from"./CardContent-CNKmCIt5.js";import{C as g}from"./CardActions-DN0C-ckv.js";import{B as p}from"./Button-BbzPHUkG.js";import{C as u}from"./Chip-DZwAFSoG.js";const K=k(e.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),V=()=>{const a=C(),[f,w]=i.useState([]),[y,v]=i.useState(!0),[c,b]=i.useState({totalKnowledge:0,totalSources:0,recentItems:0});i.useEffect(()=>{(async()=>{try{const r=await B.getKnowledgeItems(0,5);w(r.content),b({totalKnowledge:r.totalElements,totalSources:3,recentItems:r.content.length})}catch(r){console.error("Failed to fetch dashboard data:",r)}finally{v(!1)}})()},[]);const I=[{title:"Create Knowledge",description:"Add new knowledge item",icon:S,action:()=>a(l.knowledgeCreate),color:"primary"},{title:"Search Knowledge",description:"Find existing knowledge",icon:h,action:()=>a(l.search),color:"secondary"},{title:"Browse All",description:"View all knowledge items",icon:x,action:()=>a(l.knowledge),color:"info"}];return y?e.jsx(n,{sx:{p:3},children:e.jsx(t,{children:"Loading dashboard..."})}):e.jsxs(n,{sx:{flexGrow:1},children:[e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,children:"Dashboard"}),e.jsxs(o,{container:!0,spacing:3,children:[e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(d,{sx:{p:2},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(x,{sx:{mr:2,color:"primary.main"}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",children:c.totalKnowledge}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Total Knowledge Items"})]})]})})}),e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(d,{sx:{p:2},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(K,{sx:{mr:2,color:"success.main"}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",children:c.recentItems}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Recent Items"})]})]})})}),e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsx(d,{sx:{p:2},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(h,{sx:{mr:2,color:"info.main"}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",children:c.totalSources}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Connected Sources"})]})]})})}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Quick Actions"}),e.jsx(o,{container:!0,spacing:2,children:I.map(s=>{const r=s.icon;return e.jsx(o,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(m,{sx:{height:"100%"},children:[e.jsxs(j,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(r,{sx:{mr:1,color:`${s.color}.main`}}),e.jsx(t,{variant:"h6",children:s.title})]}),e.jsx(t,{variant:"body2",color:"text.secondary",children:s.description})]}),e.jsx(g,{children:e.jsx(p,{size:"small",color:s.color,onClick:s.action,children:"Open"})})]})},s.title)})})]}),e.jsxs(o,{item:!0,xs:12,children:[e.jsx(t,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Recent Knowledge Items"}),e.jsx(o,{container:!0,spacing:2,children:f.map(s=>e.jsx(o,{item:!0,xs:12,md:6,children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:s.title}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[s.summary||s.content.substring(0,150),"..."]}),e.jsxs(n,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[s.tags.slice(0,3).map(r=>e.jsx(u,{label:r,size:"small"},r)),s.tags.length>3&&e.jsx(u,{label:`+${s.tags.length-3} more`,size:"small",variant:"outlined"})]})]}),e.jsx(g,{children:e.jsx(p,{size:"small",onClick:()=>a(l.knowledgeView.replace(":id",s.id)),children:"View"})})]})},s.id))})]})]})]})};export{V as default};
//# sourceMappingURL=Dashboard-BnF6O72D.js.map
